<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Embedded Multicore Building Blocks V1.0.0: Actions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenHTMLStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded Multicore Building Blocks V1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>API</span></a></li>
      <li><a href="annotated.html"><span>Type&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Actions<div class="ingroups"><a class="el" href="group__C.html">C Components</a> &raquo; <a class="el" href="group__C__MTAPI.html">MTAPI</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Hardware or software implementations of jobs.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtapi__action__attributes__struct.html">mtapi_action_attributes_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Action attributes.  <a href="structmtapi__action__attributes__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmtapi__action__hndl__struct.html">mtapi_action_hndl_struct</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Action handle.  <a href="structmtapi__action__hndl__struct.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga633fb15ca5c076357f084e432902e48a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTIONS.html#ga633fb15ca5c076357f084e432902e48a">mtapi_action_create</a> (const mtapi_job_id_t job_id, const <a class="el" href="group__ACTION__FUNCTIONS.html#ga76ec04ccc5d3493f4b1fcab78aa0deef">mtapi_action_function_t</a> function, const void *node_local_data, const mtapi_size_t node_local_data_size, const <a class="el" href="structmtapi__action__attributes__struct.html#ad738292d0cfce87ccebe9ccbcda05f3a">mtapi_action_attributes_t</a> *attributes, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga633fb15ca5c076357f084e432902e48a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates a software action (hardware actions are considered to be pre-existent and do not need to be created).  <a href="#ga633fb15ca5c076357f084e432902e48a">More...</a><br /></td></tr>
<tr class="separator:ga633fb15ca5c076357f084e432902e48a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabf04c70c0bc94dfdf502d62ff332824b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTIONS.html#gabf04c70c0bc94dfdf502d62ff332824b">mtapi_action_set_attribute</a> (const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a> action, const mtapi_uint_t attribute_num, const void *attribute, const mtapi_size_t attribute_size, mtapi_status_t *status)</td></tr>
<tr class="memdesc:gabf04c70c0bc94dfdf502d62ff332824b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function changes the value of the attribute that corresponds to the given <code>attribute_num</code> for this action.  <a href="#gabf04c70c0bc94dfdf502d62ff332824b">More...</a><br /></td></tr>
<tr class="separator:gabf04c70c0bc94dfdf502d62ff332824b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4d8d68a0df32f3470b0e4ed3fd6105c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTIONS.html#ga4d8d68a0df32f3470b0e4ed3fd6105c9">mtapi_action_get_attribute</a> (const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a> action, const mtapi_uint_t attribute_num, void *attribute, const mtapi_size_t attribute_size, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga4d8d68a0df32f3470b0e4ed3fd6105c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the attribute value that corresponds to the given <code>attribute_num</code> for this action.  <a href="#ga4d8d68a0df32f3470b0e4ed3fd6105c9">More...</a><br /></td></tr>
<tr class="separator:ga4d8d68a0df32f3470b0e4ed3fd6105c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35f2524690cbd70202f5c71447023612"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612">mtapi_action_delete</a> (const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a> action, const mtapi_timeout_t timeout, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga35f2524690cbd70202f5c71447023612"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deletes a software action (Hardware actions exist perpetually and cannot be deleted).  <a href="#ga35f2524690cbd70202f5c71447023612">More...</a><br /></td></tr>
<tr class="separator:ga35f2524690cbd70202f5c71447023612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga544959149458eb53ca2a51253f006098"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTIONS.html#ga544959149458eb53ca2a51253f006098">mtapi_action_disable</a> (const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a> action, const mtapi_timeout_t timeout, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga544959149458eb53ca2a51253f006098"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function disables an action.  <a href="#ga544959149458eb53ca2a51253f006098">More...</a><br /></td></tr>
<tr class="separator:ga544959149458eb53ca2a51253f006098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3915cdd78467a0d3e6ada9a29c7daae9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTIONS.html#ga3915cdd78467a0d3e6ada9a29c7daae9">mtapi_action_enable</a> (const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a> action, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga3915cdd78467a0d3e6ada9a29c7daae9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables a previously disabled action.  <a href="#ga3915cdd78467a0d3e6ada9a29c7daae9">More...</a><br /></td></tr>
<tr class="separator:ga3915cdd78467a0d3e6ada9a29c7daae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Hardware or software implementations of jobs. </p>
<p>An action is referenced by an opaque handle of type <code>mtapi_action_hndl_t</code>, or indirectly through a handle to a job of type <code>mtapi_job_hndl_t</code>. A job refers to all actions implementing the same job, regardless of the node(s) where they are implemented.</p>
<p>An action's lifetime begins when the application successfully calls <a class="el" href="group__ACTIONS.html#ga633fb15ca5c076357f084e432902e48a" title="This function creates a software action (hardware actions are considered to be pre-existent and do no...">mtapi_action_create()</a> and obtains a handle to the action. Its lifetime ends upon successful completion of <a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a> or <a class="el" href="group__RUNTIME__INIT__SHUTDOWN.html#ga04d5a09951e5a52359f2a06a50f93988" title="Finalizes the MTAPI environment on a given MTAPI node and domain. ">mtapi_finalize()</a>.</p>
<p>While an opaque handle to an action may be used in the scope of one node only, a job can be used to refer to all its associated actions implementing the same job, regardless of the node where they are implemented. Tasks may be invoked in this way from nodes that do not share memory or even the same ISA with the node where the action resides. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga633fb15ca5c076357f084e432902e48a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a> mtapi_action_create </td>
          <td>(</td>
          <td class="paramtype">const mtapi_job_id_t&#160;</td>
          <td class="paramname"><em>job_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__ACTION__FUNCTIONS.html#ga76ec04ccc5d3493f4b1fcab78aa0deef">mtapi_action_function_t</a>&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>node_local_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_size_t&#160;</td>
          <td class="paramname"><em>node_local_data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structmtapi__action__attributes__struct.html#ad738292d0cfce87ccebe9ccbcda05f3a">mtapi_action_attributes_t</a> *&#160;</td>
          <td class="paramname"><em>attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates a software action (hardware actions are considered to be pre-existent and do not need to be created). </p>
<p>It is called on the node where the action function is implemented. An action is an abstract encapsulation of everything needed to implement a job. An action contains attributes, a reference to a job, a reference to an action function, and a reference to node-local data. After an action is created, it is referenced by the application using a node-local handle of type <code>mtapi_action_hndl_t</code>, or indirectly through a node-local job handle of type <code>mtapi_job_hndl_t</code>. An action's life-cycle begins with <a class="el" href="group__ACTIONS.html#ga633fb15ca5c076357f084e432902e48a" title="This function creates a software action (hardware actions are considered to be pre-existent and do no...">mtapi_action_create()</a>, and ends when <a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a> or <a class="el" href="group__RUNTIME__INIT__SHUTDOWN.html#ga04d5a09951e5a52359f2a06a50f93988" title="Finalizes the MTAPI environment on a given MTAPI node and domain. ">mtapi_finalize()</a> is called.</p>
<p>To create an action, the application must supply the domain-wide job ID of the job associated with the action. Job IDs must be predefined in the application and runtime, of type <code>mtapi_job_id_t</code>, which is an implementation-defined type. The job ID is unique in the sense that it is unique for the job implemented by the action. However several actions may implement the same job for load balancing purposes.</p>
<p>For non-default behavior, <code>*attributes</code> must be prepared with <a class="el" href="structmtapi__action__attributes__struct.html#ab10eb24493118efecf50f80e29a0c469" title="This function initializes an action attributes object. ">mtapi_actionattr_init()</a> and <a class="el" href="structmtapi__action__attributes__struct.html#ab6f54377248f15bdb4d9661336f1cf15" title="This function sets action attribute values in an action attributes object. ">mtapi_actionattr_set()</a> prior to calling <a class="el" href="group__ACTIONS.html#ga633fb15ca5c076357f084e432902e48a" title="This function creates a software action (hardware actions are considered to be pre-existent and do no...">mtapi_action_create()</a>. If attributes is <code>MTAPI_NULL</code>, then default attributes will be used.</p>
<p>If <code>node_local_data_size</code> is not zero, <code>node_local_data</code> specifies the start of node local data shared by action functions executed on the same node. <code>node_local_data_size</code> can be used by the runtime for cache coherency operations.</p>
<p>On success, an action handle is returned and <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. In the case where the action already exists, <code>status</code> will be set to <code>MTAPI_ERR_ACTION_EXISTS</code> and the handle returned will not be a valid handle. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_JOB_INVALID</code>  </td><td>The <code>job_id</code> is not a valid job ID, i.e., no action was created for that ID or the action has been deleted.  </td></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_EXISTS</code>  </td><td>This action is already created.  </td></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_LIMIT</code>  </td><td>Exceeded maximum number of actions allowed.  </td></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_NOAFFINITY</code>  </td><td>The action was created with an <code>MTAPI_ACTION_AFFINITY</code> attribute that has set the affinity to all cores of the node to <code>MTAPI_FALSE</code>.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
<tr>
<td><code>MTAPI_ERR_PARAMETER</code>  </td><td>Invalid attributes parameter.  </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structmtapi__action__attributes__struct.html#ab10eb24493118efecf50f80e29a0c469" title="This function initializes an action attributes object. ">mtapi_actionattr_init()</a>, <a class="el" href="structmtapi__action__attributes__struct.html#ab6f54377248f15bdb4d9661336f1cf15" title="This function sets action attribute values in an action attributes object. ">mtapi_actionattr_set()</a>, <a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a>, <a class="el" href="group__RUNTIME__INIT__SHUTDOWN.html#ga04d5a09951e5a52359f2a06a50f93988" title="Finalizes the MTAPI environment on a given MTAPI node and domain. ">mtapi_finalize()</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Handle to newly created action, invalid handle on error </dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">job_id</td><td>Job id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>Action function pointer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node_local_data</td><td>Data shared across tasks </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">node_local_data_size</td><td>Size of shared data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attributes</td><td>Pointer to attributes </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gabf04c70c0bc94dfdf502d62ff332824b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_action_set_attribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_uint_t&#160;</td>
          <td class="paramname"><em>attribute_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_size_t&#160;</td>
          <td class="paramname"><em>attribute_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function changes the value of the attribute that corresponds to the given <code>attribute_num</code> for this action. </p>
<p><code>attribute</code> must point to the attribute value, and <code>attribute_size</code> must be set to the exact size of the attribute value. See <a class="el" href="structmtapi__action__attributes__struct.html#ab6f54377248f15bdb4d9661336f1cf15" title="This function sets action attribute values in an action attributes object. ">mtapi_actionattr_set()</a> for a list of predefined attribute numbers and the sizes of their values.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_PARAMETER</code> </td><td>Invalid attribute parameter. </td></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_INVALID</code> </td><td>Argument is not a valid action handle. </td></tr>
<tr>
<td><code>MTAPI_ERR_ATTR_NUM</code> </td><td>Unknown attribute number. </td></tr>
<tr>
<td><code>MTAPI_ERR_ATTR_SIZE</code> </td><td>Incorrect attribute size. </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code> </td><td>The calling node is not initialized. </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structmtapi__action__attributes__struct.html#ab6f54377248f15bdb4d9661336f1cf15" title="This function sets action attribute values in an action attributes object. ">mtapi_actionattr_set()</a></dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>Action handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute_num</td><td>Attribute id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute</td><td>Pointer to attribute value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute_size</td><td>Size of attribute value. may be 0, attribute is interpreted as value in that case </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4d8d68a0df32f3470b0e4ed3fd6105c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_action_get_attribute </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_uint_t&#160;</td>
          <td class="paramname"><em>attribute_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>attribute</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_size_t&#160;</td>
          <td class="paramname"><em>attribute_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the attribute value that corresponds to the given <code>attribute_num</code> for this action. </p>
<p><code>attribute</code> must point to the location where the attribute value is to be returned, and <code>attribute_size</code> must be set to the exact size of the attribute value. See <a class="el" href="structmtapi__action__attributes__struct.html#ab6f54377248f15bdb4d9661336f1cf15" title="This function sets action attribute values in an action attributes object. ">mtapi_actionattr_set()</a> for a list of predefined attribute numbers and the sizes of their values.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code> and the attribute value is returned in <code>*attribute</code>. On error, <code>*status</code> is set to the appropriate error defined below and <code>*attribute</code> is undefined. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_PARAMETER</code> </td><td>Invalid attribute parameter. </td></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_INVALID</code> </td><td>Argument is not a valid action handle. </td></tr>
<tr>
<td><code>MTAPI_ERR_ATTR_NUM</code> </td><td>Unknown attribute number. </td></tr>
<tr>
<td><code>MTAPI_ERR_ATTR_SIZE</code> </td><td>Incorrect attribute size. </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code> </td><td>The calling node is not initialized. </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="structmtapi__action__attributes__struct.html#ab6f54377248f15bdb4d9661336f1cf15" title="This function sets action attribute values in an action attributes object. ">mtapi_actionattr_set()</a></dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Thread-safe and wait-free </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>Action handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute_num</td><td>Attribute id </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">attribute</td><td>Pointer to attribute value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">attribute_size</td><td>Size of attribute value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga35f2524690cbd70202f5c71447023612"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_action_delete </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_timeout_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deletes a software action (Hardware actions exist perpetually and cannot be deleted). </p>
<p><a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a> may be called by any node that has a valid action handle. Tasks associated with an action that has been deleted may still be executed depending on their internal state:</p><ul>
<li>If <a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a> is called on an action that is currently executing, the associated task's state will be set to <code>MTAPI_TASK_CANCELLED</code> and execution will continue. To accomplish this, action functions must poll the task state with <a class="el" href="group__ACTION__FUNCTIONS.html#ga394161ccebdbc041b9f63355b79d42f5" title="An action function may call this function to obtain the state of the task that is associated with the...">mtapi_context_taskstate_get()</a>. A call to <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a> on the task executing this code will return the status set by <a class="el" href="group__ACTION__FUNCTIONS.html#ga4620187dc8dfe9cd25ada6689c61006e" title="This function can be called from an action function to set the status that can be obtained by a subse...">mtapi_context_status_set()</a>, or <code>MTAPI_SUCCESS</code> if not explicitly set.</li>
<li>Tasks that are started or enqueued but waiting for execution by the MTAPI runtime when <a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a> is called will not be executed anymore if the deleted action is the only action associated with that task. A call to <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a> will return the status <code>MTAPI_ERR_ACTION_DELETED</code>.</li>
<li>Tasks that are started or enqueued after deletion of the action will return <code>MTAPI_ERR_ACTION_INVALID</code> if the deleted action is the only action associated with that task.</li>
</ul>
<p>Calling <a class="el" href="group__ACTIONS.html#ga4d8d68a0df32f3470b0e4ed3fd6105c9" title="Returns the attribute value that corresponds to the given attribute_num for this action. ">mtapi_action_get_attribute()</a> on a deleted action will return <code>MTAPI_ERR_ACTION_INVALID</code> if all actions implementing the job had been deleted.</p>
<p>The function <a class="el" href="group__ACTIONS.html#ga35f2524690cbd70202f5c71447023612" title="This function deletes a software action (Hardware actions exist perpetually and cannot be deleted)...">mtapi_action_delete()</a> blocks until the corresponding action code is left by all tasks that are executing the code or until the timeout is reached. If <code>timeout</code> is a constant 0 or the symbolic constant <code>MTAPI_NOWAIT</code>, this function only returns <code>MTAPI_SUCCESS</code> if no tasks are executing the action when it is called. If it is set to <code>MTAPI_INFINITE</code>, the function may block infinitely.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_INVALID</code> </td><td>Argument is not a valid action handle. </td></tr>
<tr>
<td><code>MTAPI_TIMEOUT</code> </td><td>Timeout was reached. </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code> </td><td>The calling node is not initialized. </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ACTION__FUNCTIONS.html#ga394161ccebdbc041b9f63355b79d42f5" title="An action function may call this function to obtain the state of the task that is associated with the...">mtapi_context_taskstate_get()</a>, <a class="el" href="group__ACTION__FUNCTIONS.html#ga4620187dc8dfe9cd25ada6689c61006e" title="This function can be called from an action function to set the status that can be obtained by a subse...">mtapi_context_status_set()</a>, <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a></dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>Action handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Timeout duration in milliseconds </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga544959149458eb53ca2a51253f006098"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_action_disable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_timeout_t&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function disables an action. </p>
<p>Tasks associated with an action that has been disabled may still be executed depending on their internal state:</p><ul>
<li>If <a class="el" href="group__ACTIONS.html#ga544959149458eb53ca2a51253f006098" title="This function disables an action. ">mtapi_action_disable()</a> is called on an action that is currently executing, the associated task's state will be set to <code>MTAPI_TASK_CANCELLED</code> and execution will continue. To accomplish this, action functions must poll the task with <a class="el" href="group__ACTION__FUNCTIONS.html#ga394161ccebdbc041b9f63355b79d42f5" title="An action function may call this function to obtain the state of the task that is associated with the...">mtapi_context_taskstate_get()</a>. A call to <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a> on the task executing this code will return the status set by <a class="el" href="group__ACTION__FUNCTIONS.html#ga4620187dc8dfe9cd25ada6689c61006e" title="This function can be called from an action function to set the status that can be obtained by a subse...">mtapi_context_status_set()</a>, or <code>MTAPI_SUCCESS</code> if not explicitly set.</li>
<li>Tasks that are started or enqueued but waiting for execution by the MTAPI runtime when <a class="el" href="group__ACTIONS.html#ga544959149458eb53ca2a51253f006098" title="This function disables an action. ">mtapi_action_disable()</a> is called will not be executed anymore if the disabled action is the only action associated with that task. A call to <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a> will return the status <code>MTAPI_ERR_ACTION_DISABLED</code>.</li>
<li>Tasks that are started or enqueued after the action has been disabled will return <code>MTAPI_ERR_ACTION_DISABLED</code> if either the disabled action is the only action associated with a task or all actions associated with a task are disabled. <a class="el" href="group__ACTIONS.html#ga544959149458eb53ca2a51253f006098" title="This function disables an action. ">mtapi_action_disable()</a> blocks until all running tasks exit the code, or until the timeout is reached. If timeout is the constant 0 or the symbolic constant <code>MTAPI_NOWAIT</code>, this function only returns <code>MTAPI_SUCCESS</code> if no tasks are executing the action when it is called. If it is set to <code>MTAPI_INFINITE</code> the function may block infinitely.</li>
</ul>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_INVALID</code> </td><td>Argument is not a valid action handle. </td></tr>
<tr>
<td><code>MTAPI_TIMEOUT</code> </td><td>Timeout was reached. </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code> </td><td>The calling node is not initialized. </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__ACTION__FUNCTIONS.html#ga394161ccebdbc041b9f63355b79d42f5" title="An action function may call this function to obtain the state of the task that is associated with the...">mtapi_context_taskstate_get()</a>, <a class="el" href="group__ACTION__FUNCTIONS.html#ga4620187dc8dfe9cd25ada6689c61006e" title="This function can be called from an action function to set the status that can be obtained by a subse...">mtapi_context_status_set()</a>, <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a></dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Thread-safe and wait-free </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>Action handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>Timeout duration in milliseconds </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3915cdd78467a0d3e6ada9a29c7daae9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_action_enable </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structmtapi__action__hndl__struct.html#a63f067469f3caabc9e92e1565588d5ad">mtapi_action_hndl_t</a>&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables a previously disabled action. </p>
<p>If this function is called on an action that no longer exists, an <code>MTAPI_ERR_ACTION_INVALID</code> error will be returned.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_ACTION_INVALID</code> </td><td>Argument is not a valid action handle. </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code> </td><td>The calling node is not initialized. </td></tr>
</table>
<dl class="section user"><dt>Concurrency</dt><dd>Thread-safe and wait-free </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">action</td><td>Action handle </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 27 2017 04:05:15 for Embedded Multicore Building Blocks V1.0.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>

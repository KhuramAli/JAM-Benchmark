<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Embedded Multicore Building Blocks V1.0.0: Action Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="DoxygenHTMLStyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Embedded Multicore Building Blocks V1.0.0
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>API</span></a></li>
      <li><a href="annotated.html"><span>Type&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Action Functions<div class="ingroups"><a class="el" href="group__C.html">C Components</a> &raquo; <a class="el" href="group__C__MTAPI.html">MTAPI</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Executable software functions that implement actions.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga76ec04ccc5d3493f4b1fcab78aa0deef"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga76ec04ccc5d3493f4b1fcab78aa0deef">mtapi_action_function_t</a>) (const void *args, mtapi_size_t args_size, void *result_buffer, mtapi_size_t result_buffer_size, const void *node_local_data, mtapi_size_t node_local_data_size, mtapi_task_context_t *context)</td></tr>
<tr class="memdesc:ga76ec04ccc5d3493f4b1fcab78aa0deef"><td class="mdescLeft">&#160;</td><td class="mdescRight">An action function is the executable software function that implements an action.  <a href="#ga76ec04ccc5d3493f4b1fcab78aa0deef">More...</a><br /></td></tr>
<tr class="separator:ga76ec04ccc5d3493f4b1fcab78aa0deef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga4620187dc8dfe9cd25ada6689c61006e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga4620187dc8dfe9cd25ada6689c61006e">mtapi_context_status_set</a> (mtapi_task_context_t *task_context, const mtapi_status_t error_code, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga4620187dc8dfe9cd25ada6689c61006e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function can be called from an action function to set the status that can be obtained by a subsequent call to <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a> or <a class="el" href="group__TASK__GROUPS.html#gadfbb84d645cfec4da87d519548f3d6de" title="This function waits for the completion of any task in a task group. ">mtapi_group_wait_any()</a>.  <a href="#ga4620187dc8dfe9cd25ada6689c61006e">More...</a><br /></td></tr>
<tr class="separator:ga4620187dc8dfe9cd25ada6689c61006e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga61d0010182cfb5aa0575905c634d9e95"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga61d0010182cfb5aa0575905c634d9e95">mtapi_context_runtime_notify</a> (const mtapi_task_context_t *task_context, const mtapi_notification_t notification, const void *data, const mtapi_size_t data_size, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga61d0010182cfb5aa0575905c634d9e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function can be called from an action function to notify the runtime system.  <a href="#ga61d0010182cfb5aa0575905c634d9e95">More...</a><br /></td></tr>
<tr class="separator:ga61d0010182cfb5aa0575905c634d9e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga394161ccebdbc041b9f63355b79d42f5"><td class="memItemLeft" align="right" valign="top">mtapi_task_state_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga394161ccebdbc041b9f63355b79d42f5">mtapi_context_taskstate_get</a> (const mtapi_task_context_t *task_context, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga394161ccebdbc041b9f63355b79d42f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">An action function may call this function to obtain the state of the task that is associated with the action function.  <a href="#ga394161ccebdbc041b9f63355b79d42f5">More...</a><br /></td></tr>
<tr class="separator:ga394161ccebdbc041b9f63355b79d42f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25b9ee851754a15e65d3475e9a0ecbff"><td class="memItemLeft" align="right" valign="top">mtapi_uint_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga25b9ee851754a15e65d3475e9a0ecbff">mtapi_context_instnum_get</a> (const mtapi_task_context_t *task_context, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga25b9ee851754a15e65d3475e9a0ecbff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function can be called from an action function to query the instance number of the associated task.  <a href="#ga25b9ee851754a15e65d3475e9a0ecbff">More...</a><br /></td></tr>
<tr class="separator:ga25b9ee851754a15e65d3475e9a0ecbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9eebe9c1e4e3fea3d8946f08b92ce1f9"><td class="memItemLeft" align="right" valign="top">mtapi_uint_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga9eebe9c1e4e3fea3d8946f08b92ce1f9">mtapi_context_numinst_get</a> (const mtapi_task_context_t *task_context, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga9eebe9c1e4e3fea3d8946f08b92ce1f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function can be called from an action function to query the total number of parallel task instances.  <a href="#ga9eebe9c1e4e3fea3d8946f08b92ce1f9">More...</a><br /></td></tr>
<tr class="separator:ga9eebe9c1e4e3fea3d8946f08b92ce1f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1f37264538a959474367e1cf51d4a991"><td class="memItemLeft" align="right" valign="top">mtapi_uint_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ACTION__FUNCTIONS.html#ga1f37264538a959474367e1cf51d4a991">mtapi_context_corenum_get</a> (const mtapi_task_context_t *task_context, mtapi_status_t *status)</td></tr>
<tr class="memdesc:ga1f37264538a959474367e1cf51d4a991"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function can be called from an action function to query the current core number for debugging purposes.  <a href="#ga1f37264538a959474367e1cf51d4a991">More...</a><br /></td></tr>
<tr class="separator:ga1f37264538a959474367e1cf51d4a991"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Executable software functions that implement actions. </p>
<p>The runtime passes arguments to the action function when a task is started. Passing arguments from one node to another node should be implemented as a copy operation. Just as the arguments are passed before start of execution, the result buffer is copied back to the calling node after the action function terminates. In shared memory environments, the copying of data in both cases is not necessary. The node-local data is data used by several action functions being executed on the same node (or at least in the same address space). The shared data is specified when the action is created.</p>
<p>An action function can interact with the runtime environment through a task context object of type <code>mtapi_task_context_t</code>. A task context object is allocated and managed by the runtime. The runtime passes a pointer to the context object when the action function is invoked.The action may then query information about the execution context(e.g., its core number, the number of tasks and task number in a multi - instance task, polling the task state) by calling the <code>mtapi_context_*</code> functions. Furthermore it is possible to pass information from the action function to the runtime system which is executing the action function(setting the status manually, for example). All of these <code>mtapi_context_*</code> functions are called in the context of task execution. </p>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga76ec04ccc5d3493f4b1fcab78aa0deef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mtapi_action_function_t) (const void *args,mtapi_size_t args_size,void *result_buffer,mtapi_size_t result_buffer_size,const void *node_local_data,mtapi_size_t node_local_data_size,mtapi_task_context_t *context)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An action function is the executable software function that implements an action. </p>
<p>The runtime passes arguments to the action function when a task is started. Passing arguments from one node to another node should be implemented as a copy operation. Just as the arguments are passed before start of execution, the result buffer is copied back to the calling node after the action function terminates. In shared memory environments, the copying of data in both cases is not necessary. The node-local data is data used by several action functions being executed on the same node (or at least in the same address space). The shared data is specified when the action is created.</p>
<p>An action function can interact with the runtime environment through a task context object of type mtapi_task_context_t . A task context object is allocated and managed by the runtime. The runtime passes a pointer to the context object when the action function is invoked. The action may then query information about the execution context (e.g., its core number, the number of tasks and task number in a multi-instance task, polling the task state) by calling the mtapi_context_* functions. Furthermore it is possible to pass information from the action function to the runtime system which is executing the action function (setting the status manually, for example). All of these mtapi_context_* functions are called in the context of task execution. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga4620187dc8dfe9cd25ada6689c61006e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_context_status_set </td>
          <td>(</td>
          <td class="paramtype">mtapi_task_context_t *&#160;</td>
          <td class="paramname"><em>task_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_status_t&#160;</td>
          <td class="paramname"><em>error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function can be called from an action function to set the status that can be obtained by a subsequent call to <a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a> or <a class="el" href="group__TASK__GROUPS.html#gadfbb84d645cfec4da87d519548f3d6de" title="This function waits for the completion of any task in a task group. ">mtapi_group_wait_any()</a>. </p>
<p><code>task_context</code> must be the same value as the context parameter that the runtime passes to the action function when it is invoked.</p>
<p>The status can be passed from the action function to the runtime system by setting error_code to one of the following values:</p><ul>
<li><code>MTAPI_SUCCESS</code> for successful completion</li>
<li><code>MTAPI_ERR_ACTION_CANCELLED</code> if the action execution is canceled</li>
<li><code>MTAPI_ERR_ACTION_FAILED</code> if the task could not be completed as intended The error code will be especially important in future versions of MTAPI where tasks shall be chained (flow graphs). The chain execution can then be aborted if the error code is not <code>MTAPI_SUCCESS</code>.</li>
</ul>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_CONTEXT_OUTOFCONTEXT</code>  </td><td>Not called in the context of a task execution. This function must be used in an action function only. The action function must be called from the MTAPI runtime system.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
</table>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__TASKS.html#ga6e0b06a9470b39700b33e425b7b345c4" title="This function waits for the completion of the specified task. ">mtapi_task_wait()</a>, <a class="el" href="group__TASK__GROUPS.html#gadfbb84d645cfec4da87d519548f3d6de" title="This function waits for the completion of any task in a task group. ">mtapi_group_wait_any()</a></dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">task_context</td><td>Pointer to task context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_code</td><td>Task return value </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga61d0010182cfb5aa0575905c634d9e95"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mtapi_context_runtime_notify </td>
          <td>(</td>
          <td class="paramtype">const mtapi_task_context_t *&#160;</td>
          <td class="paramname"><em>task_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_notification_t&#160;</td>
          <td class="paramname"><em>notification</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const mtapi_size_t&#160;</td>
          <td class="paramname"><em>data_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function can be called from an action function to notify the runtime system. </p>
<p>This is used to communicate certain states to the runtime implementation to allow it to optimize task execution.</p>
<p><code>task_context</code> must be the same value as the context parameter that the runtime passes to the action function when it is invoked.</p>
<p>The underlying type <code>mtapi_notification_t</code> and the valid values for notification are implementation-defined. The notification system is meant to be flexible, and can be used in many ways, for example:</p><ul>
<li>To trigger prefetching of data for further processing</li>
<li>To order execution via queues there might be point in the action code where the next task in the queue may be started, even if the current code, started from the same queue, is still executing</li>
</ul>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_CONTEXT_OUTOFCONTEXT</code>  </td><td>Not called in the context of a task execution. This function must be used in an action function only. The action function must be called from the MTAPI runtime system.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
</table>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_context</td><td>Pointer to task context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">notification</td><td>Notification id </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to associated data </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data_size</td><td>Size of data </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga394161ccebdbc041b9f63355b79d42f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mtapi_task_state_t mtapi_context_taskstate_get </td>
          <td>(</td>
          <td class="paramtype">const mtapi_task_context_t *&#160;</td>
          <td class="paramname"><em>task_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An action function may call this function to obtain the state of the task that is associated with the action function. </p>
<p><code>task_context</code> must be the same value as the context parameter that the runtime passes to the action function when it is invoked.</p>
<p>The underlying representation of type <code>mtapi_task_state_t</code> is implementation-defined. Values of type <code>mtapi_task_state_t</code> may be copied, assigned, and compared with other values of type <code>mtapi_task_state_t</code>, but the caller should make no other assumptions about its type or contents. A minimal implementation must return a status of <code>MTAPI_TASK_CANCELLED</code> if the task is canceled, and <code>MTAPI_TASK_RUNNING</code> otherwise. Other values of the task state are implementation-defined. This task state can be used to abort a long running computation inside an action function.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_CONTEXT_OUTOFCONTEXT</code>  </td><td>Not called in the context of a task execution. This function must be used in an action function only. The action function must be called from the MTAPI runtime system.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>Task state of current context </dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_context</td><td>Pointer to task context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga25b9ee851754a15e65d3475e9a0ecbff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mtapi_uint_t mtapi_context_instnum_get </td>
          <td>(</td>
          <td class="paramtype">const mtapi_task_context_t *&#160;</td>
          <td class="paramname"><em>task_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function can be called from an action function to query the instance number of the associated task. </p>
<p>A task can have multiple instances (multi-instance tasks), in which case the same job is executed multiple times in parallel. Each instance has a number, and this function gives the instance number. Task instances are numbered sequentially, starting at zero.</p>
<p><code>task_context</code> must be the same value as the context parameter that the runtime passes to the action function when it is invoked.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code> and the task instance number is returned. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_CONTEXT_OUTOFCONTEXT</code>  </td><td>Not called in the context of a task execution. This function must be used in an action function only. The action function must be called from the MTAPI runtime system.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>Instance number of current task </dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_context</td><td>Pointer to task context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga9eebe9c1e4e3fea3d8946f08b92ce1f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mtapi_uint_t mtapi_context_numinst_get </td>
          <td>(</td>
          <td class="paramtype">const mtapi_task_context_t *&#160;</td>
          <td class="paramname"><em>task_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function can be called from an action function to query the total number of parallel task instances. </p>
<p>This value is greater than one for multi-instance tasks.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_CONTEXT_OUTOFCONTEXT</code>  </td><td>Not called in the context of a task execution. This function must be used in an action function only. The action function must be called from the MTAPI runtime system.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>Total number of parallel task instances </dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_context</td><td>Pointer to task context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga1f37264538a959474367e1cf51d4a991"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mtapi_uint_t mtapi_context_corenum_get </td>
          <td>(</td>
          <td class="paramtype">const mtapi_task_context_t *&#160;</td>
          <td class="paramname"><em>task_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">mtapi_status_t *&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function can be called from an action function to query the current core number for debugging purposes. </p>
<p>The core numbering is implementation-defined.</p>
<p><code>task_context</code> must be the same value as the context parameter that the runtime passes to the action function when it was invoked.</p>
<p>On success, <code>*status</code> is set to <code>MTAPI_SUCCESS</code>. On error, <code>*status</code> is set to the appropriate error defined below. </p><table class="doxtable">
<tr>
<th>Error code </th><th>Description  </th></tr>
<tr>
<td><code>MTAPI_ERR_CONTEXT_OUTOFCONTEXT</code>  </td><td>Not called in the context of a task execution. This function must be used in an action function only. The action function must be called from the MTAPI runtime system.  </td></tr>
<tr>
<td><code>MTAPI_ERR_NODE_NOTINIT</code>  </td><td>The calling node is not initialized.  </td></tr>
</table>
<dl class="section return"><dt>Returns</dt><dd>Worker thread index the current task is running on </dd></dl>
<dl class="section user"><dt>Concurrency</dt><dd>Not thread-safe </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">task_context</td><td>Pointer to task context </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">status</td><td>Pointer to error code, may be <code>MTAPI_NULL</code> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 27 2017 04:05:15 for Embedded Multicore Building Blocks V1.0.0 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
